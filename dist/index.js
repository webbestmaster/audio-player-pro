(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Audio:()=>K,AudioPlayer:()=>se,AudioPlayerControlSprite:()=>c,PlayListContext:()=>U,PlayListPanel:()=>ye,PlayListProvider:()=>fe});const a=require("react");var n=e.n(a),r="audio-player-icon-id-prefix-";function i(e){var t=e.viewBox,a=void 0===t?"0 0 24 24":t,i=e.id,o=e.dPath,c=e.fill;return n().createElement("symbol",{id:r+i,key:i,viewBox:a,xmlns:"http://www.w3.org/2000/svg"},n().createElement("path",{d:o,fill:c||"#5a5a5a"}))}var o=[{id:"button-pause-playlist",dPath:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:"#4285f4"},{id:"button-pause",dPath:"M14 19h4V5h-4M6 19h4V5H6v14z"},{id:"button-play",dPath:"M8 5.14v14l11-7-11-7z"},{id:"button-track-list",viewBox:"-1 -1 23 23",dPath:"M19 9H2v2h17V9m0-4H2v2h17V5M2 15h13v-2H2v2m15-2v6l5-3-5-3z"},{id:"button-prev-track",dPath:"M6 6h2v12H6zm3.5 6l8.5 6V6z"},{id:"button-next-track",dPath:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"},{id:"button-repeat",dPath:"M17 17H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z"},{id:"button-repeat-one",dPath:"M13 15V9h-1l-2 1v1h1.5v4m5.5 2H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z"},{id:"button-shuffle",dPath:"M14.83 13.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13M14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41z"},{id:"button-sound-off",dPath:"M12 4L9.91 6.09 12 8.18M4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.26c-.67.51-1.42.93-2.25 1.17v2.07c1.38-.32 2.63-.95 3.68-1.81L19.73 21 21 19.73l-9-9M19 12c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.916 8.916 0 0 0 21 12c0-4.28-3-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71m-2.5 0c0-1.77-1-3.29-2.5-4.03v2.21l2.45 2.45c.05-.2.05-.42.05-.63z"},{id:"button-sound-on",dPath:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z"},{id:"button-download",dPath:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"},{id:"play-list-menu",dPath:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"},{id:"play-list-plus",viewBox:"-1 -1 23 23",dPath:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"},{id:"trash-bin",dPath:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}];function c(){return n().createElement("svg",{className:"f3cc59"},o.map(i))}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(){for(var e=[],t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r=0,i=a;r<i.length;r++){var o=i[r];if(o)if("string"!=typeof o)for(var c in o)o[c]&&e.push(c);else e.push(o)}return e.join(" ")}var m="playing",f="paused",v="none",p=[v,"all","one"],y={isTrackListOpen:!0,activeIndex:0,isShuffleOn:!1,isMuted:!1,repeatingState:v};function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e){var t=e.className,a=e.imageId;return n().createElement("svg",{className:t},n().createElement("use",{xlinkHref:a}))}var h="span",k="_59d228";function E(e){var t,a=e.onClick,i=e.imageId,o=e.isActive,c=e.ariaLabel,l=e.className,s=e.tag,u=e.hasBorder,m=d("_7e7b1e",(b(t={},"d03524",o),b(t,"_36e927",u),t),l),f=n().createElement(g,{className:k,imageId:"#"+r+i});return"div"===s?n().createElement("div",{className:m},f):s===h?n().createElement("span",{className:m},f):n().createElement("button",{"aria-label":c,className:m,onClick:a,type:"button"},n().createElement(g,{className:k,imageId:"#"+r+i}))}function P(e){return{minutes:String(Math.floor(e/60)),seconds:String(Math.floor(e%60)).padStart(2,"0")}}function L(e){var t,a,r,i,o,c,l,s,u,m=e.currentTime,f=e.fullTime,v=d("_547c58",e.className),p=(t=f,r=(a=P(m)).minutes,i=a.seconds,c=(o=P(t)).minutes,l=o.seconds,s="".concat(r,":").concat(i),u="".concat(c,":").concat(l),"".concat(s," / ").concat(u));return n().createElement("span",{className:v},p)}var C="undefined"!=typeof window,O="undefined"!=typeof navigator,S=O?navigator.userAgent:"",w=!(!O||!C)&&/iPad|iPhone|iPod/.test(S)&&!window.MSStream,M=!!O&&/(android)/i.test(S),N=!w&&!M&&C;function T(e){var t,r=u((0,a.useState)(!1),2),i=r[0],o=r[1],c=(0,a.useRef)(),l=e.className,s=e.isDisable,m=e.progress,f=e.onChange,v=e.ariaLabel,p=d("dd875e",l,(b(t={},"_911595",i),b(t,"_88628d",!0===s),t));return n().createElement("div",{className:p,onPointerDown:function(){o(!0)},onPointerUp:function(){o(!1)}},n().createElement("div",{className:"d51c7c"},n().createElement("div",{className:"_407fe2",style:{transform:"translateZ(0) scaleX(".concat(m||0,")")}})),n().createElement("div",{className:"_29c928"},n().createElement("div",{className:"_98d7c4",style:{left:"".concat(100*m,"%")}})),n().createElement("input",{"aria-label":v,className:"c405b1",defaultValue:0,max:1,min:0,onChange:function(){var e;f((e=c.current)?Number.parseFloat(e.value):0)},ref:c,step:.001,type:"range"}))}var j={play:"play",pause:"pause",seekbackward:"seekbackward",seekforward:"seekforward",previoustrack:"previoustrack",nexttrack:"nexttrack"};function I(e,t){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator&&(function(){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator)for(var e in navigator.mediaSession.metadata=null,j)navigator.mediaSession.setActionHandler(e,null)}(),navigator.mediaSession.metadata=new MediaMetadata(e),t))for(var a in t)navigator.mediaSession.setActionHandler(a,t[a])}function x(e){var t=e.isRender,a=e.children;return t?a:null}function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(e){return function(){e.currentTime=0,e.addEventListener("canplay",(function t(){e.removeEventListener("canplay",t,!1),e.play().then((function(){e.pause(),e.currentTime=0}))}),!1)}}function H(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e,t){return e.src===t.src}function R(e){var t=e.src,a=e.mediaMetadata,n=e.content,r={src:t};return a&&(r=B(B({},r),{},{mediaMetadata:a})),n&&(r=B(B({},r),{},{content:n})),r}var W,F=(W={name:"",trackList:[]},{createPlayList:function(){return W},getAllPlayLists:function(){return[W]},updatePlayList:function(e,t){return new Error("updatePlayList: overwrite me")},deletePlayList:function(e){return new Error("deletePlayList: overwrite me")},isInitialized:!1,removeTrackById:function(e){return new Error("removeTrack: overwrite me")},getTrackById:function(e){return null}}),U=n().createContext(F);function J(){return Math.round(1e6*Math.random()).toString(16)}function Z(){return Math.random()>.5?1:-1}var q="No name playlist";function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function G(e){var t=e.className,r=e.track,i=d("d8f116",t),o=(0,a.useContext)(U),c=u((0,a.useState)(0),2),l=c[0],s=c[1],m=o.getAllPlayLists,f=o.updatePlayList,v=o.removeTrackById,p=o.isInitialized,y=m(),b="-1",g=(0,a.useCallback)((function(e){var t=e.currentTarget,a=Number.parseInt(t.value,10),n=y[a],i=r.src,o=r.mediaMetadata,c=r.content;if(s(l+1),n){var u=n.trackList.find((function(e){return D(e,r)}));if(u)v(u.id);else{var d={src:i,id:J()};o&&(d=$($({},d),{},{mediaMetadata:o})),"string"==typeof c&&(d=$($({},d),{},{content:c})),f(n,$($({},n),{},{trackList:[d].concat(H(n.trackList))})),t.value=b}}}),[y,f,r,b,v,s,l]);return p?n().createElement("label",{className:"da0b0d"},n().createElement(E,{ariaLabel:"play list menu",className:i,imageId:"play-list-menu"}),n().createElement("select",{className:"_0ee3bf",defaultValue:b,key:l,onChange:g},n().createElement("option",{disabled:!0,value:b}," "),y.map((function(e,t){var a=e.trackList.find((function(e){return D(e,r)})),i=e.name.trim()||q,o=(a?"[✓]":"[_]")+" "+i;return n().createElement("option",{key:String(t)+i,value:t},o)})))):null}function K(e){var t=e.src,r=e.mediaMetadata,i=e.className,o=e.onDidMount,c=e.downloadFileName,l=e.useRepeatButton,s=(0,a.useRef)(),v=u((0,a.useState)(0),2),p=v[0],y=v[1],b=u((0,a.useState)(0),2),g=b[0],k=b[1],P=u((0,a.useState)(N?.5:1),2),C=P[0],O=P[1],S=u((0,a.useState)(!1),2),w=S[0],M=S[1],j=u((0,a.useState)(f),2),_=j[0],V=j[1],H=u((0,a.useState)(!1),2),z=H[0],B=H[1],D=w||0===C?"button-sound-off":"button-sound-on";function R(){var e=s.current;if(e)return e;throw new Error("Audio tag is not exists")}function W(){R().currentTime+=10}function F(){R().currentTime-=10}function U(){R().play()}return(0,a.useEffect)((function(){}),[]),(0,a.useEffect)((function(){var e=R();o&&o(e)}),[o]),n().createElement("div",{className:d("_6a435a",i)},n().createElement("audio",{className:"fd1431",onEnded:function(){if(R().currentTime=0,z)return y(0),void U();V(f),y(0)},onLoadedMetadata:function(){var e=R();y(0),k(e.duration),e.volume=C},onPause:function(){V(f)},onPlay:function(){V(m);var e={seekforward:W,seekbackward:F,stop:A(R())};I(r||{title:t},e)},onTimeUpdate:function(){var e=R();y(e.currentTime)},onVolumeChange:function(){var e=R();M(e.muted),O(e.volume)},preload:"metadata",ref:s,src:t,volume:C},n().createElement("track",{kind:"captions",src:t})),_===m?n().createElement(E,{ariaLabel:"pause",imageId:"button-pause",onClick:function(){R().pause()}}):n().createElement(E,{ariaLabel:"play",imageId:"button-play",onClick:U}),n().createElement(x,{isRender:!0===l},n().createElement(E,{ariaLabel:"repeat",imageId:"button-repeat",isActive:z,onClick:function(){B(!z)}})),n().createElement(L,{className:"cdb4fb",currentTime:p,fullTime:g}),n().createElement(T,{ariaLabel:"progress bar",onChange:function(e){var t=R(),a=e*g;t.currentTime=a,y(a)},progress:p/g}),n().createElement(x,{isRender:N},n().createElement(E,{ariaLabel:"switch-sound",imageId:D,onClick:function(){var e=R(),t=!e.muted;e.muted=t,M(t)}}),n().createElement(T,{ariaLabel:"volume bar",className:"_37ab58",onChange:function(e){R().volume=e,O(e)},progress:C})),n().createElement("a",{className:"_188972",download:c||!0,href:t},n().createElement(E,{ariaLabel:"download",imageId:"button-download",tag:h})),n().createElement(G,{track:{src:t,mediaMetadata:r}}))}function Q(e,t,a){var n=(t+a)%e;return n<0?n+e:n}function Y(e,t,a){if(t-e<1)return e;var n=e+Math.floor(Math.random()*(t-e));return a&&a.includes(n)?Y(e,t,a):n}var ee="static";function te(e){var t=e.size,a=e.lineWidth,r=e.arcColor,i=e.circleColor,o=e.isShow,c=e.wrapperWidth,l=e.wrapperHeight,s=e.position,u=e.wrapperColor,m=e.wrapperPadding,f=e.className;if(!1===o)return null;var v=s||ee,p=t||48,y={borderWidth:a,width:p,height:p,borderColor:i,borderTopColor:r},g={minHeight:p,minWidth:p,position:v,backgroundColor:u,width:c,height:l,padding:m};return n().createElement("div",{className:d("e48c57",f,b({},"_3fad33",v===ee)),style:g},n().createElement("div",{className:"_395527",style:y}))}function ae(e){var t=e.trackCurrentTime,a=e.trackFullTime,r=e.onClickMuteVolume,i=e.isMuted,o=e.trackVolume,c=e.onChangeProgressBar,l=e.onChangeVolumeBar,s=i||0===o?"button-sound-off":"button-sound-on",u=0!==a;return n().createElement("div",{className:"ea5806"},n().createElement(L,{className:"_97eb17",currentTime:t,fullTime:a}),n().createElement(T,{ariaLabel:"progress bar",isDisable:!u,onChange:c,progress:u?t/a:0}),n().createElement(x,{isRender:N},n().createElement(E,{ariaLabel:"switch-sound",className:"",imageId:s,onClick:r}),n().createElement(T,{ariaLabel:"volume bar",className:"_0ffd4f",onChange:l,progress:o})))}function ne(e){var t=e.onClickShuffle,a=e.onClickRepeat,r=e.onClickPrevTrack,i=e.onClickPlay,o=e.onClickNextTrack,c=e.onClickTrackList,l=e.playingState,s=e.isShuffleOn,u=e.repeatingState,d=e.isTrackListOpen,f=l===m;return n().createElement("div",{className:"_1b0bc4"},n().createElement(E,{ariaLabel:"shuffle",imageId:"button-shuffle",isActive:s,onClick:t}),n().createElement(E,{ariaLabel:"repeat",imageId:"one"===u?"button-repeat-one":"button-repeat",isActive:"one"===u||"all"===u,onClick:a}),n().createElement(E,{ariaLabel:"prev",imageId:"button-prev-track",onClick:r}),f?n().createElement(E,{ariaLabel:"pause",imageId:"button-pause",onClick:i}):n().createElement(E,{ariaLabel:"play",imageId:"button-play",onClick:i}),n().createElement(E,{ariaLabel:"next",imageId:"button-next-track",onClick:o}),n().createElement(E,{ariaLabel:"track-list",imageId:"button-track-list",isActive:d,onClick:c}))}function re(e){var t=e.onClickShuffle,a=e.onClickRepeat,r=e.onClickPrevTrack,i=e.onClickPlay,o=e.onClickNextTrack,c=e.onClickTrackList,l=e.onClickMuteVolume,s=e.onChangeProgressBar,u=e.onChangeVolumeBar,d=e.isMuted,m=e.playingState,f=e.isShuffleOn,v=e.repeatingState,p=e.isTrackListOpen,y=e.trackCurrentTime,b=e.trackVolume,g=e.trackFullTime,h=e.isLoading;return n().createElement("div",{className:"da7feb"},n().createElement(te,{className:"a6b10e",isShow:h,lineWidth:3,position:"absolute",size:26,wrapperHeight:26,wrapperPadding:0,wrapperWidth:26}),n().createElement(ne,{isShuffleOn:f,isTrackListOpen:p,onClickNextTrack:o,onClickPlay:i,onClickPrevTrack:r,onClickRepeat:a,onClickShuffle:t,onClickTrackList:c,playingState:m,repeatingState:v}),n().createElement(ae,{isMuted:d,onChangeProgressBar:s,onChangeVolumeBar:u,onClickMuteVolume:l,trackCurrentTime:y,trackFullTime:g,trackVolume:b}))}const ie="_2acf08",oe="_979981";function ce(e){var t,i,o=e.isCurrentTrack,c=e.activeIndex,l=e.track,s=e.playingState,f=e.onClickPlay,v=e.setActiveIndex,p=e.isLoading,y=e.playByIndex,h=u((0,a.useState)(0),2),k=h[0],E=h[1],L=P(k),C=L.minutes,O=L.seconds,S=(0,a.useRef)(),w=l.src,M=function(e){var t=e.content,a=e.mediaMetadata,n=e.src;if(t)return t;var r=a&&a.title;if(r)return r;var i=n.split("/").pop();if(!i)return"";var o=i.lastIndexOf(".");return o>0?i.slice(0,o):i}(l),N=n().createElement(te,{isShow:p,lineWidth:4,position:"absolute",size:30,wrapperPadding:0}),T=d("cad308",b({},"_3c8845",o));return n().createElement("li",{className:T},n().createElement("audio",{className:"_876f0f",muted:!0,onLoadedMetadata:function(){var e=function(){var e=S.current;if(e)return e;throw new Error("Audio tag is not exists")}();E(e.duration)},preload:"metadata",ref:S,src:w}),(t="#"+r+"button-play",i="play",s===m?o?n().createElement("button",{"aria-label":i,className:ie,onClick:f,type:"button"},N,n().createElement(g,{className:"_466456",imageId:"#audio-player-icon-id-prefix-button-pause-playlist"})):n().createElement("button",{"aria-label":i,className:ie,onClick:function(){v(c)},type:"button"},n().createElement(g,{className:oe,imageId:t})):o?n().createElement("button",{"aria-label":i,className:ie,onClick:f,type:"button"},N,n().createElement(g,{className:oe,imageId:t})):n().createElement("button",{"aria-label":i,className:ie,onClick:function(){y(c)},type:"button"},n().createElement(g,{className:oe,imageId:t}))),n().createElement("div",{className:"_25eb27"},n().createElement("div",{className:"efdbcb"},M)),n().createElement("div",{className:"_13ff81"},"".concat(C,":").concat(O)),n().createElement(G,{className:"_6a8102",track:l}))}function le(e){var t=e.activeIndex,a=e.trackList,r=e.playingState,i=e.onClickPlay,o=e.setActiveIndex,c=e.isLoading,l=e.playByIndex;return n().createElement("ul",{className:"e41919"},a.map((function(e,a){var s=t===a;return n().createElement(ce,{activeIndex:a,isCurrentTrack:s,isLoading:c&&s,key:e.src,onClickPlay:i,playByIndex:l,playingState:r,setActiveIndex:o,track:e})})))}function se(e){var t=e.defaultState,r=e.className,i=e.onDidMount,o=e.trackList,c=function(e){return e?V(V({},y),e):y}(t),l=u((0,a.useState)(0),2),s=l[0],d=l[1],v=u((0,a.useState)(0),2),b=v[0],g=v[1],h=u((0,a.useState)(N?.5:1),2),k=h[0],E=h[1],P=u((0,a.useState)(c.isMuted),2),L=P[0],C=P[1],O=u((0,a.useState)(f),2),S=O[0],w=O[1],M=u((0,a.useState)(c.activeIndex),2),T=M[0],j=M[1],_=u((0,a.useState)(c.isShuffleOn),2),H=_[0],z=_[1],B=u((0,a.useState)(c.repeatingState),2),D=B[0],R=B[1],W=u((0,a.useState)(c.isTrackListOpen),2),F=W[0],U=W[1],J=u((0,a.useState)(!1),2),Z=J[0],q=J[1],X=u((0,a.useState)(!1),2),$=X[0],G=X[1],K=(0,a.useRef)();function ee(){return K.current||document.createElement("audio")}function te(){return o[T]||null}function ae(){var e=te();return e?e.src:""}function ne(){var e=te();if(e){var t=e.mediaMetadata;t&&I(t,{seekforward:ie,seekbackward:oe,previoustrack:ue,nexttrack:se,stop:A(ee())})}}function ie(){ee().currentTime+=10}function oe(){ee().currentTime-=10}function ce(){var e=ee();e.paused?e.play():e.pause()}function se(){de(Q(o.length,T,1))}function ue(){de(Q(o.length,T,-1))}function de(e){j(e),q(!0),d(0),g(0),ne()}return(0,a.useEffect)((function(){var e=ee();i&&i(e)}),[i]),n().createElement("div",{className:r||""},n().createElement("audio",{autoPlay:S===m,className:"_068c8f",key:"audio-tag",muted:L,onCanPlay:function(){$&&(G(!1),ce())},onEnded:function(){var e=o.length;if(G(!0),e<=1)return j(0),void d(0);if(H)de(Y(0,e,[T]));else{if("one"===D)return G(!1),void ce();"all"!==D?T<e-1?se():(G(!1),de(0)):se()}},onLoadedMetadata:function(){var e=ee();q(!1),g(e.duration),e.volume=k},onPause:function(){w(f)},onPlay:function(){w(m),ne()},onTimeUpdate:function(){var e=ee();d(e.currentTime)},onVolumeChange:function(){var e=ee();C(e.muted),E(e.volume)},preload:"metadata",ref:K,src:ae(),volume:k},n().createElement("track",{kind:"captions",src:ae()})),n().createElement(re,{isLoading:Z,isMuted:L,isShuffleOn:H,isTrackListOpen:F,onChangeProgressBar:function(e){ee().currentTime=e*b},onChangeVolumeBar:function(e){ee().volume=e},onClickMuteVolume:function(){var e=ee(),t=!e.muted;e.muted=t,C(t)},onClickNextTrack:se,onClickPlay:ce,onClickPrevTrack:ue,onClickRepeat:function(){var e=(p.indexOf(D)+1)%p.length;R(p[e])},onClickShuffle:function(){z(!H)},onClickTrackList:function(){U(!F)},playingState:S,repeatingState:D,trackCurrentTime:s,trackFullTime:b,trackVolume:k}),n().createElement(x,{isRender:F},n().createElement(le,{activeIndex:T,isLoading:Z,onClickPlay:ce,playByIndex:function(e){j(e),q(!0);var t=ee();t.addEventListener("canplay",(function e(){q(!1),t.removeEventListener("canplay",e,!1),t.play()}),!1)},playingState:S,setActiveIndex:de,trackList:o})))}var ue="react-audio-player-play-list-storage-key-v.1.0.0";function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fe(e){var t=e.children,r=u((0,a.useState)(function(){if("undefined"==typeof localStorage)return[{name:"Play list",trackList:[]}];var e=localStorage.getItem(ue);return e?JSON.parse(e):[{name:"Play list",trackList:[]}]}()),2),i=r[0],o=r[1],c=(0,a.useCallback)((function(e){for(var t=i.length,a=0;a<t;a+=1)for(var n=i[a].trackList,r=n.length,o=0;o<r;o+=1){var c=n[o];if(c.id===e)return c}return null}),[i]),l=(0,a.useCallback)((function(){var e={name:"Play list "+Array.from({length:4}).map(J).sort(Z).join("").slice(0,4),trackList:[]},t=[].concat(H(i),[e]);return o(t),e}),[i,o]),s=(0,a.useCallback)((function(){return H(i)}),[i]),d=(0,a.useCallback)((function(e,t){var a=H(i),n=a.indexOf(e);return n<0?new Error("Old Play List is not exists."):(a[n]=t,o(a),t)}),[i,o]),m=(0,a.useCallback)((function(e){var t=H(i),a=t.indexOf(e);return a<0?new Error("Play List is not exists."):(t.splice(a,1),o(t),null)}),[i,o]),f=(0,a.useCallback)((function(e){for(var t=i.length,a=0;a<t;a+=1)for(var n=i[a],r=n.trackList,o=r.length,c=0;c<o;c+=1)if(r[c].id===e){var l=H(r);return l.splice(c,1),d(n,me(me({},n),{},{trackList:l})),null}return new Error("Track is not exists.")}),[i,d]),v=(0,a.useMemo)((function(){return{createPlayList:l,getAllPlayLists:s,updatePlayList:d,deletePlayList:m,isInitialized:!0,removeTrackById:f,getTrackById:c}}),[l,s,d,m,f,c]);return(0,a.useEffect)((function(){var e;e=i,"undefined"!=typeof localStorage&&localStorage.setItem(ue,JSON.stringify(e))}),[i]),n().createElement(U.Provider,{value:v},t)}function ve(e){var t=e.playList,r=t.trackList,i=t.name,o=(0,a.useRef)(),c=(0,a.useContext)(U),l=c.updatePlayList,s=c.deletePlayList,u=(0,c.getAllPlayLists)(),d=r.length>0,m=(0,a.useCallback)((function(){l(t,{name:(o.current||function(){throw new Error("Can not get input of play list name")}()).value.trim(),trackList:r})}),[l,t,r]),f=(0,a.useCallback)((function(){s(t)}),[s,t]),v=u.length>1&&0===r.length?"_04ff88":"_800605";return n().createElement("div",{className:"_54f155"},n().createElement("div",{className:"_81f4a9"},n().createElement("input",{className:"_54eef9",defaultValue:i,onBlur:m,placeholder:q,ref:o,type:"text"}),n().createElement(E,{ariaLabel:"delete",className:v,imageId:"trash-bin",onClick:f})),n().createElement(x,{isRender:!d},n().createElement("p",{className:"_77a288"},"∅")),n().createElement(x,{isRender:d},n().createElement(se,{trackList:r.map(R)})))}function pe(e,t){return n().createElement(ve,{key:e.name+"-"+String(t),playList:e})}function ye(e){var t=(0,a.useContext)(U),r=t.createPlayList,i=(0,t.getAllPlayLists)();return n().createElement("div",{className:"_19b00e"},i.map(pe),n().createElement("div",{className:"_8ef79e"},n().createElement(E,{ariaLabel:"add play list",className:"_001158",imageId:"play-list-plus",onClick:r})))}module.exports=t})();