(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Audio:()=>Q,AudioPlayer:()=>ue,AudioPlayerControlSprite:()=>o,PlayListContext:()=>J,PlayListPanel:()=>be,PlayListProvider:()=>pe});const a=require("react");var n=e.n(a),r="audio-player-icon-id-prefix-",i="#5a5a5a",l="0 0 24 24",c="http://www.w3.org/2000/svg";function o(){return n().createElement("svg",{className:"f3cc59"},n().createElement("symbol",{id:r+"button-pause-playlist",viewBox:l,xmlns:c},n().createElement("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:"#4285f4"})),n().createElement("symbol",{id:r+"button-pause",viewBox:l,xmlns:c},n().createElement("path",{d:"M14 19h4V5h-4M6 19h4V5H6v14z",fill:i})),n().createElement("symbol",{id:r+"button-play",viewBox:l,xmlns:c},n().createElement("path",{d:"M8 5.14v14l11-7-11-7z",fill:i})),n().createElement("symbol",{id:r+"button-track-list",viewBox:"-1 -1 23 23",xmlns:c},n().createElement("path",{d:"M19 9H2v2h17V9m0-4H2v2h17V5M2 15h13v-2H2v2m15-2v6l5-3-5-3z",fill:i})),n().createElement("symbol",{id:r+"button-prev-track",viewBox:l,xmlns:c},n().createElement("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z",fill:i})),n().createElement("symbol",{id:r+"button-next-track",viewBox:l,xmlns:c},n().createElement("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z",fill:i})),n().createElement("symbol",{id:r+"button-repeat",viewBox:l,xmlns:c},n().createElement("path",{d:"M17 17H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:i})),n().createElement("symbol",{id:r+"button-repeat-one",viewBox:l,xmlns:c},n().createElement("path",{d:"M13 15V9h-1l-2 1v1h1.5v4m5.5 2H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:i})),n().createElement("symbol",{id:r+"button-shuffle",viewBox:l,xmlns:c},n().createElement("path",{d:"M14.83 13.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13M14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41z",fill:i})),n().createElement("symbol",{id:r+"button-sound-off",viewBox:l,xmlns:c},n().createElement("path",{d:"M12 4L9.91 6.09 12 8.18M4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.26c-.67.51-1.42.93-2.25 1.17v2.07c1.38-.32 2.63-.95 3.68-1.81L19.73 21 21 19.73l-9-9M19 12c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.916 8.916 0 0 0 21 12c0-4.28-3-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71m-2.5 0c0-1.77-1-3.29-2.5-4.03v2.21l2.45 2.45c.05-.2.05-.42.05-.63z",fill:i})),n().createElement("symbol",{id:r+"button-sound-on",viewBox:l,xmlns:c},n().createElement("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:i})),n().createElement("symbol",{id:r+"button-download",viewBox:l,xmlns:c},n().createElement("path",{d:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",fill:i})),n().createElement("symbol",{id:r+"play-list-menu",viewBox:l,xmlns:c},n().createElement("path",{d:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z",fill:i})),n().createElement("symbol",{id:r+"play-list-plus",viewBox:"-1 -1 23 23",xmlns:c},n().createElement("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z",fill:i})),n().createElement("symbol",{id:r+"trash-bin",viewBox:l,xmlns:c},n().createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z",fill:i})))}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function u(e,t){if(e){if("string"==typeof e)return s(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(e,t):void 0}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(){for(var e=[],t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r=0,i=a;r<i.length;r++){var l=i[r];if(l)if("string"!=typeof l)for(var c in l)l[c]&&e.push(c);else e.push(l)}return e.join(" ")}var f="playing",p="paused",v="none",y=[v,"all","one"],b={isTrackListOpen:!0,activeIndex:0,isShuffleOn:!1,isMuted:!1,repeatingState:v};function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(e){var t=e.className,a=e.imageId;return n().createElement("svg",{className:t},n().createElement("use",{xlinkHref:a}))}var k="span",E="_59d228";function w(e){var t,a=e.onClick,i=e.imageId,l=e.isActive,c=e.ariaLabel,o=e.className,s=e.tag,u=e.hasBorder,m=d("_7e7b1e",(g(t={},"d03524",l),g(t,"_36e927",u),t),o),f=n().createElement(h,{className:E,imageId:"#"+r+i});return"div"===s?n().createElement("div",{className:m},f):s===k?n().createElement("span",{className:m},f):n().createElement("button",{"aria-label":c,className:m,onClick:a,type:"button"},n().createElement(h,{className:E,imageId:"#"+r+i}))}function L(e){return{minutes:String(Math.floor(e/60)),seconds:String(Math.floor(e%60)).padStart(2,"0")}}function C(e){var t,a,r,i,l,c,o,s,u,m=e.currentTime,f=e.fullTime,p=d("_547c58",e.className),v=(t=f,r=(a=L(m)).minutes,i=a.seconds,c=(l=L(t)).minutes,o=l.seconds,s="".concat(r,":").concat(i),u="".concat(c,":").concat(o),"".concat(s," / ").concat(u));return n().createElement("span",{className:p},v)}var O="undefined"!=typeof window,P="undefined"!=typeof navigator,S=P?navigator.userAgent:"",x=!(!P||!O)&&/iPad|iPhone|iPod/.test(S)&&!window.MSStream,M=!!P&&/(android)/i.test(S),N=!x&&!M&&O;function T(e){var t,r=m((0,a.useState)(!1),2),i=r[0],l=r[1],c=(0,a.useRef)(),o=e.className,s=e.isDisable,u=e.progress,f=e.onChange,p=e.ariaLabel,v=d("dd875e",o,(g(t={},"_911595",i),g(t,"_88628d",!0===s),t));return n().createElement("div",{className:v,onPointerDown:function(){l(!0)},onPointerUp:function(){l(!1)}},n().createElement("div",{className:"d51c7c"},n().createElement("div",{className:"_407fe2",style:{transform:"translateZ(0) scaleX(".concat(u||0,")")}})),n().createElement("div",{className:"_29c928"},n().createElement("div",{className:"_98d7c4",style:{left:"".concat(100*u,"%")}})),n().createElement("input",{"aria-label":p,className:"c405b1",defaultValue:0,max:1,min:0,onChange:function(){var e;f((e=c.current)?Number.parseFloat(e.value):0)},ref:c,step:.001,type:"range"}))}var j={play:"play",pause:"pause",seekbackward:"seekbackward",seekforward:"seekforward",previoustrack:"previoustrack",nexttrack:"nexttrack"};function I(e,t){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator&&(function(){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator)for(var e in navigator.mediaSession.metadata=null,j)navigator.mediaSession.setActionHandler(e,null)}(),navigator.mediaSession.metadata=new MediaMetadata(e),t))for(var a in t)navigator.mediaSession.setActionHandler(a,t[a])}function _(e){var t=e.isRender,a=e.children;return t?a:null}function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(e){return function(){e.currentTime=0,e.addEventListener("canplay",(function t(){e.removeEventListener("canplay",t,!1),e.play().then((function(){e.pause(),e.currentTime=0}))}),!1)}}function H(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e,t){return e.src===t.src}function W(e){var t=e.src,a=e.mediaMetadata,n=e.content,r={src:t};return a&&(r=D(D({},r),{},{mediaMetadata:a})),n&&(r=D(D({},r),{},{content:n})),r}var F,U=(F={name:"",trackList:[]},{createPlayList:function(){return F},getAllPlayLists:function(){return[F]},updatePlayList:function(e,t){return new Error("updatePlayList: overwrite me")},deletePlayList:function(e){return new Error("deletePlayList: overwrite me")},isInitialized:!1,removeTrackById:function(e){return new Error("removeTrack: overwrite me")},getTrackById:function(e){return null}}),J=n().createContext(U);function Z(){return Math.round(1e6*Math.random()).toString(16)}function q(){return Math.random()>.5?1:-1}var X="No name playlist";function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function K(e){var t=e.className,r=e.track,i=d("d8f116",t),l=(0,a.useContext)(J),c=m((0,a.useState)(0),2),o=c[0],s=c[1],u=l.getAllPlayLists,f=l.updatePlayList,p=l.removeTrackById,v=l.isInitialized,y=u(),b="-1",g=(0,a.useCallback)((function(e){var t=e.currentTarget,a=Number.parseInt(t.value,10),n=y[a],i=r.src,l=r.mediaMetadata,c=r.content;if(s(o+1),n){var u=n.trackList.find((function(e){return R(e,r)}));if(u)p(u.id);else{var m={src:i,id:Z()};l&&(m=G(G({},m),{},{mediaMetadata:l})),"string"==typeof c&&(m=G(G({},m),{},{content:c})),f(n,G(G({},n),{},{trackList:[m].concat(H(n.trackList))})),t.value=b}}}),[y,f,r,b,p,s,o]);return v?n().createElement("label",{className:"da0b0d"},n().createElement(w,{ariaLabel:"play list menu",className:i,imageId:"play-list-menu"}),n().createElement("select",{className:"_0ee3bf",defaultValue:b,key:o,onChange:g},n().createElement("option",{disabled:!0,value:b}," "),y.map((function(e,t){var a=e.trackList.find((function(e){return R(e,r)})),i=e.name.trim()||X,l=(a?"[✓]":"[_]")+" "+i;return n().createElement("option",{key:String(t)+i,value:t},l)})))):null}function Q(e){var t=e.src,r=e.mediaMetadata,i=e.className,l=e.onDidMount,c=e.downloadFileName,o=e.useRepeatButton,s=(0,a.useRef)(),u=m((0,a.useState)(0),2),v=u[0],y=u[1],b=m((0,a.useState)(0),2),g=b[0],h=b[1],E=m((0,a.useState)(N?.5:1),2),L=E[0],O=E[1],P=m((0,a.useState)(!1),2),S=P[0],x=P[1],M=m((0,a.useState)(p),2),j=M[0],V=M[1],B=m((0,a.useState)(!1),2),H=B[0],z=B[1],D=S||0===L?"button-sound-off":"button-sound-on";function R(){var e=s.current;if(e)return e;throw new Error("Audio tag is not exists")}function W(){R().currentTime+=10}function F(){R().currentTime-=10}function U(){R().play()}return(0,a.useEffect)((function(){}),[]),(0,a.useEffect)((function(){var e=R();l&&l(e)}),[l]),n().createElement("div",{className:d("_6a435a",i)},n().createElement("audio",{className:"fd1431",onEnded:function(){if(R().currentTime=0,H)return y(0),void U();V(p),y(0)},onLoadedMetadata:function(){var e=R();y(0),h(e.duration),e.volume=L},onPause:function(){V(p)},onPlay:function(){V(f);var e={seekforward:W,seekbackward:F,stop:A(R())};I(r||{title:t},e)},onTimeUpdate:function(){var e=R();y(e.currentTime)},onVolumeChange:function(){var e=R();x(e.muted),O(e.volume)},preload:"metadata",ref:s,src:t,volume:L},n().createElement("track",{kind:"captions",src:t})),j===f?n().createElement(w,{ariaLabel:"pause",imageId:"button-pause",onClick:function(){R().pause()}}):n().createElement(w,{ariaLabel:"play",imageId:"button-play",onClick:U}),n().createElement(_,{isRender:!0===o},n().createElement(w,{ariaLabel:"repeat",imageId:"button-repeat",isActive:H,onClick:function(){z(!H)}})),n().createElement(C,{className:"cdb4fb",currentTime:v,fullTime:g}),n().createElement(T,{ariaLabel:"progress bar",onChange:function(e){var t=R(),a=e*g;t.currentTime=a,y(a)},progress:v/g}),n().createElement(_,{isRender:N},n().createElement(w,{ariaLabel:"switch-sound",imageId:D,onClick:function(){var e=R(),t=!e.muted;e.muted=t,x(t)}}),n().createElement(T,{ariaLabel:"volume bar",className:"_37ab58",onChange:function(e){R().volume=e,O(e)},progress:L})),n().createElement("a",{className:"_188972",download:c||!0,href:t},n().createElement(w,{ariaLabel:"download",imageId:"button-download",tag:k})),n().createElement(K,{track:{src:t,mediaMetadata:r}}))}function Y(e,t,a){var n=(t+a)%e;return n<0?n+e:n}function ee(e,t,a){if(t-e<1)return e;var n=e+Math.floor(Math.random()*(t-e));return a&&a.includes(n)?ee(e,t,a):n}var te="static";function ae(e){var t=e.size,a=e.lineWidth,r=e.arcColor,i=e.circleColor,l=e.isShow,c=e.wrapperWidth,o=e.wrapperHeight,s=e.position,u=e.wrapperColor,m=e.wrapperPadding,f=e.className;if(!1===l)return null;var p=s||te,v=t||48,y={borderWidth:a,width:v,height:v,borderColor:i,borderTopColor:r},b={minHeight:v,minWidth:v,position:p,backgroundColor:u,width:c,height:o,padding:m};return n().createElement("div",{className:d("e48c57",f,g({},"_3fad33",p===te)),style:b},n().createElement("div",{className:"_395527",style:y}))}function ne(e){var t=e.trackCurrentTime,a=e.trackFullTime,r=e.onClickMuteVolume,i=e.isMuted,l=e.trackVolume,c=e.onChangeProgressBar,o=e.onChangeVolumeBar,s=i||0===l?"button-sound-off":"button-sound-on",u=0!==a;return n().createElement("div",{className:"ea5806"},n().createElement(C,{className:"_97eb17",currentTime:t,fullTime:a}),n().createElement(T,{ariaLabel:"progress bar",isDisable:!u,onChange:c,progress:u?t/a:0}),n().createElement(_,{isRender:N},n().createElement(w,{ariaLabel:"switch-sound",className:"",imageId:s,onClick:r}),n().createElement(T,{ariaLabel:"volume bar",className:"_0ffd4f",onChange:o,progress:l})))}function re(e){var t=e.onClickShuffle,a=e.onClickRepeat,r=e.onClickPrevTrack,i=e.onClickPlay,l=e.onClickNextTrack,c=e.onClickTrackList,o=e.playingState,s=e.isShuffleOn,u=e.repeatingState,m=e.isTrackListOpen,d=o===f;return n().createElement("div",{className:"_1b0bc4"},n().createElement(w,{ariaLabel:"shuffle",imageId:"button-shuffle",isActive:s,onClick:t}),n().createElement(w,{ariaLabel:"repeat",imageId:"one"===u?"button-repeat-one":"button-repeat",isActive:"one"===u||"all"===u,onClick:a}),n().createElement(w,{ariaLabel:"prev",imageId:"button-prev-track",onClick:r}),d?n().createElement(w,{ariaLabel:"pause",imageId:"button-pause",onClick:i}):n().createElement(w,{ariaLabel:"play",imageId:"button-play",onClick:i}),n().createElement(w,{ariaLabel:"next",imageId:"button-next-track",onClick:l}),n().createElement(w,{ariaLabel:"track-list",imageId:"button-track-list",isActive:m,onClick:c}))}function ie(e){var t=e.onClickShuffle,a=e.onClickRepeat,r=e.onClickPrevTrack,i=e.onClickPlay,l=e.onClickNextTrack,c=e.onClickTrackList,o=e.onClickMuteVolume,s=e.onChangeProgressBar,u=e.onChangeVolumeBar,m=e.isMuted,d=e.playingState,f=e.isShuffleOn,p=e.repeatingState,v=e.isTrackListOpen,y=e.trackCurrentTime,b=e.trackVolume,g=e.trackFullTime,h=e.isLoading;return n().createElement("div",{className:"da7feb"},n().createElement(ae,{className:"a6b10e",isShow:h,lineWidth:3,position:"absolute",size:26,wrapperHeight:26,wrapperPadding:0,wrapperWidth:26}),n().createElement(re,{isShuffleOn:f,isTrackListOpen:v,onClickNextTrack:l,onClickPlay:i,onClickPrevTrack:r,onClickRepeat:a,onClickShuffle:t,onClickTrackList:c,playingState:d,repeatingState:p}),n().createElement(ne,{isMuted:m,onChangeProgressBar:s,onChangeVolumeBar:u,onClickMuteVolume:o,trackCurrentTime:y,trackFullTime:g,trackVolume:b}))}const le="_2acf08",ce="_979981";function oe(e){var t,i,l=e.isCurrentTrack,c=e.activeIndex,o=e.track,s=e.playingState,u=e.onClickPlay,p=e.setActiveIndex,v=e.isLoading,y=e.playByIndex,b=m((0,a.useState)(0),2),k=b[0],E=b[1],w=L(k),C=w.minutes,O=w.seconds,P=(0,a.useRef)(),S=o.src,x=function(e){var t=e.content,a=e.mediaMetadata,n=e.src;if(t)return t;var r=a&&a.title;if(r)return r;var i=n.split("/").pop();if(!i)return"";var l=i.lastIndexOf(".");return l>0?i.slice(0,l):i}(o),M=n().createElement(ae,{isShow:v,lineWidth:4,position:"absolute",size:30,wrapperPadding:0}),N=d("cad308",g({},"_3c8845",l));return n().createElement("li",{className:N},n().createElement("audio",{className:"_876f0f",muted:!0,onLoadedMetadata:function(){var e=function(){var e=P.current;if(e)return e;throw new Error("Audio tag is not exists")}();E(e.duration)},preload:"metadata",ref:P,src:S}),(t="#"+r+"button-play",i="play",s===f?l?n().createElement("button",{"aria-label":i,className:le,onClick:u,type:"button"},M,n().createElement(h,{className:"_466456",imageId:"#audio-player-icon-id-prefix-button-pause-playlist"})):n().createElement("button",{"aria-label":i,className:le,onClick:function(){p(c)},type:"button"},n().createElement(h,{className:ce,imageId:t})):l?n().createElement("button",{"aria-label":i,className:le,onClick:u,type:"button"},M,n().createElement(h,{className:ce,imageId:t})):n().createElement("button",{"aria-label":i,className:le,onClick:function(){y(c)},type:"button"},n().createElement(h,{className:ce,imageId:t}))),n().createElement("div",{className:"_25eb27"},n().createElement("div",{className:"efdbcb"},x)),n().createElement("div",{className:"_13ff81"},"".concat(C,":").concat(O)),n().createElement(K,{className:"_6a8102",track:o}))}function se(e){var t=e.activeIndex,a=e.trackList,r=e.playingState,i=e.onClickPlay,l=e.setActiveIndex,c=e.isLoading,o=e.playByIndex;return n().createElement("ul",{className:"e41919"},a.map((function(e,a){var s=t===a;return n().createElement(oe,{activeIndex:a,isCurrentTrack:s,isLoading:c&&s,key:e.src,onClickPlay:i,playByIndex:o,playingState:r,setActiveIndex:l,track:e})})))}function ue(e){var t=e.defaultState,r=e.className,i=e.onDidMount,l=e.trackList,c=function(e){return e?B(B({},b),e):b}(t),o=m((0,a.useState)(0),2),s=o[0],u=o[1],d=m((0,a.useState)(0),2),v=d[0],g=d[1],h=m((0,a.useState)(N?.5:1),2),k=h[0],E=h[1],w=m((0,a.useState)(c.isMuted),2),L=w[0],C=w[1],O=m((0,a.useState)(p),2),P=O[0],S=O[1],x=m((0,a.useState)(c.activeIndex),2),M=x[0],T=x[1],j=m((0,a.useState)(c.isShuffleOn),2),V=j[0],H=j[1],z=m((0,a.useState)(c.repeatingState),2),D=z[0],R=z[1],W=m((0,a.useState)(c.isTrackListOpen),2),F=W[0],U=W[1],J=m((0,a.useState)(!1),2),Z=J[0],q=J[1],X=m((0,a.useState)(!1),2),$=X[0],G=X[1],K=(0,a.useRef)();function Q(){return K.current||document.createElement("audio")}function te(){return l[M]||null}function ae(){var e=te();return e?e.src:""}function ne(){var e=te();if(e){var t=e.mediaMetadata;t&&I(t,{seekforward:re,seekbackward:le,previoustrack:ue,nexttrack:oe,stop:A(Q())})}}function re(){Q().currentTime+=10}function le(){Q().currentTime-=10}function ce(){var e=Q();e.paused?e.play():e.pause()}function oe(){me(Y(l.length,M,1))}function ue(){me(Y(l.length,M,-1))}function me(e){T(e),q(!0),u(0),g(0),ne()}return(0,a.useEffect)((function(){var e=Q();i&&i(e)}),[i]),n().createElement("div",{className:r||""},n().createElement("audio",{autoPlay:P===f,className:"_068c8f",key:"audio-tag",muted:L,onCanPlay:function(){$&&(G(!1),ce())},onEnded:function(){var e=l.length;if(G(!0),e<=1)return T(0),void u(0);if(V)me(ee(0,e,[M]));else{if("one"===D)return G(!1),void ce();"all"!==D?M<e-1?oe():(G(!1),me(0)):oe()}},onLoadedMetadata:function(){var e=Q();q(!1),g(e.duration),e.volume=k},onPause:function(){S(p)},onPlay:function(){S(f),ne()},onTimeUpdate:function(){var e=Q();u(e.currentTime)},onVolumeChange:function(){var e=Q();C(e.muted),E(e.volume)},preload:"metadata",ref:K,src:ae(),volume:k},n().createElement("track",{kind:"captions",src:ae()})),n().createElement(ie,{isLoading:Z,isMuted:L,isShuffleOn:V,isTrackListOpen:F,onChangeProgressBar:function(e){Q().currentTime=e*v},onChangeVolumeBar:function(e){Q().volume=e},onClickMuteVolume:function(){var e=Q(),t=!e.muted;e.muted=t,C(t)},onClickNextTrack:oe,onClickPlay:ce,onClickPrevTrack:ue,onClickRepeat:function(){var e=(y.indexOf(D)+1)%y.length;R(y[e])},onClickShuffle:function(){H(!V)},onClickTrackList:function(){U(!F)},playingState:P,repeatingState:D,trackCurrentTime:s,trackFullTime:v,trackVolume:k}),n().createElement(_,{isRender:F},n().createElement(se,{activeIndex:M,isLoading:Z,onClickPlay:ce,playByIndex:function(e){T(e),q(!0);var t=Q();t.addEventListener("canplay",(function e(){q(!1),t.removeEventListener("canplay",e,!1),t.play()}),!1)},playingState:P,setActiveIndex:me,trackList:l})))}var me="react-audio-player-play-list-storage-key-v.1.0.0";function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function pe(e){var t=e.children,r=m((0,a.useState)(function(){if("undefined"==typeof localStorage)return[{name:"Play list",trackList:[]}];var e=localStorage.getItem(me);return e?JSON.parse(e):[{name:"Play list",trackList:[]}]}()),2),i=r[0],l=r[1],c=(0,a.useCallback)((function(e){for(var t=i.length,a=0;a<t;a+=1)for(var n=i[a].trackList,r=n.length,l=0;l<r;l+=1){var c=n[l];if(c.id===e)return c}return null}),[i]),o=(0,a.useCallback)((function(){var e={name:"Play list "+Array.from({length:4}).map(Z).sort(q).join("").slice(0,4),trackList:[]},t=[].concat(H(i),[e]);return l(t),e}),[i,l]),s=(0,a.useCallback)((function(){return H(i)}),[i]),u=(0,a.useCallback)((function(e,t){var a=H(i),n=a.indexOf(e);return n<0?new Error("Old Play List is not exists."):(a[n]=t,l(a),t)}),[i,l]),d=(0,a.useCallback)((function(e){var t=H(i),a=t.indexOf(e);return a<0?new Error("Play List is not exists."):(t.splice(a,1),l(t),null)}),[i,l]),f=(0,a.useCallback)((function(e){for(var t=i.length,a=0;a<t;a+=1)for(var n=i[a],r=n.trackList,l=r.length,c=0;c<l;c+=1)if(r[c].id===e){var o=H(r);return o.splice(c,1),u(n,fe(fe({},n),{},{trackList:o})),null}return new Error("Track is not exists.")}),[i,u]),p=(0,a.useMemo)((function(){return{createPlayList:o,getAllPlayLists:s,updatePlayList:u,deletePlayList:d,isInitialized:!0,removeTrackById:f,getTrackById:c}}),[o,s,u,d,f,c]);return(0,a.useEffect)((function(){var e;e=i,"undefined"!=typeof localStorage&&localStorage.setItem(me,JSON.stringify(e))}),[i]),n().createElement(J.Provider,{value:p},t)}function ve(e){var t=e.playList,r=t.trackList,i=t.name,l=(0,a.useRef)(),c=(0,a.useContext)(J),o=c.updatePlayList,s=c.deletePlayList,u=(0,c.getAllPlayLists)(),m=r.length>0,d=(0,a.useCallback)((function(){o(t,{name:(l.current||function(){throw new Error("Can not get input of play list name")}()).value.trim(),trackList:r})}),[o,t,r]),f=(0,a.useCallback)((function(){s(t)}),[s,t]),p=u.length>1&&0===r.length?"_04ff88":"_800605";return n().createElement("div",{className:"_54f155"},n().createElement("div",{className:"_81f4a9"},n().createElement("input",{className:"_54eef9",defaultValue:i,onBlur:d,placeholder:X,ref:l,type:"text"}),n().createElement(w,{ariaLabel:"delete",className:p,imageId:"trash-bin",onClick:f})),n().createElement(_,{isRender:!m},n().createElement("p",{className:"_77a288"},"∅")),n().createElement(_,{isRender:m},n().createElement(ue,{trackList:r.map(W)})))}function ye(e,t){return n().createElement(ve,{key:e.name+"-"+String(t),playList:e})}function be(e){var t=(0,a.useContext)(J),r=t.createPlayList,i=(0,t.getAllPlayLists)();return n().createElement("div",{className:"_19b00e"},i.map(ye),n().createElement("div",{className:"_8ef79e"},n().createElement(w,{ariaLabel:"add play list",className:"_001158",imageId:"play-list-plus",onClick:r})))}module.exports=t})();